@mixin active_button {
	color: $text_color;
	text-shadow: 0 0 3px $text_color;
	background: $light_text_color;
}
@mixin disabled_button {
	opacity: 0.5;
	pointer-events:none;
}

canvas#preview {
	width:100%;
}
#preview_container {
	width: 100%;
	height: 100%;
	background-size: cover;
	background-position: center;
	display: flex;
	justify-content: center;
	align-items: center;
	position: relative;
	z-index: 10;
}
div#camera_buttons {
	display: flex;
	margin: 5vw 0;
	width: 100vw;
	position: fixed;
	bottom: 0;
	justify-content: space-evenly;
	z-index:20;

	button {
		background: #999;
		color: #666;
		font-size: 30px;
		padding: 10px 0 6px 0;
		width: 15vmin;
		height: 15vmin;
		line-height: 1;
		border-radius: 50%;
		border: solid 1px #666;
		border-right: none;
		box-shadow: 2px 2px 6px #666;
		text-shadow: 0 0 0 #666;
		transition-duration:0.2s;
	}
	button#record_button:after {
		content: "videocam";
	}
	button#photo_button:after {
		content: "insert_photo";
	}
	button#timelapse_button:after {
		content: "timelapse";
	}
	button#motion_detect_button:after {
		content: "directions_run";
	}
	button#power_button:after {
		content: "power_settings_new";
	}
	button:after {
		font-family: "Material Icons";
		line-height: 1;
	}
	button:active {
		@include active_button;
	}
}
/* Set the state of every button */
main:not([data-status='halted']) div#camera_buttons button#power_button {
	color: $text_color;
	text-shadow: 0 0 3px $text_color;
	background: $light_text_color;
	@include active_button;
}
main[data-status='halted'] div#camera_buttons { 
	button#record_button, 
	button#photo_button,
	button#timelapse_button,
	button#motion_detect_button {
		@include disabled_button;
	}
}
main[data-status='md_ready'],
main[data-status='md_video'] {
	div#camera_buttons { 
		button#record_button { 
			@include disabled_button;
		}
		button#motion_detect_button {
			@include active_button;
		}
	}
}
main[data-status='tl_md_video'],
main[data-status='tl_md_ready'],
main[data-status='timelapse'] {
	div#camera_buttons { 
		button#record_button { 
			@include disabled_button;
		}
		button#timelapse_button {
			@include active_button;
		}
	}
}
main[data-status='image'] {
	div#camera_buttons { 
		button#record_button { 
			@include disabled_button;
		}
		button#photo_button {
			@include active_button;
		}
	}
}
main[data-status='video'] {
	div#camera_buttons { 
		button#photo_button,
		button#timelapse_button,
		button#motion_detect_button { 
			@include disabled_button;
		}
		button#record_button {
			@include active_button;
		}
	}
}


@media (orientation: landscape) {
	canvas#preview {
		width: auto;
		height: 100%;
	}
	div#camera_buttons {
		width: auto;
		left: 0;
		flex-direction: column;
		height: 100%;
		margin: 0 3vmin;
	}
}
